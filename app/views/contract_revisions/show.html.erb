<div class="container pt-4">
  <div class="col-md-12">
    <p class="h3"><%= @contract.company.company_name %> - <%= @contract.company.website %></p>
    <ul class="nav nav-tabs">
      <li class="nav-item">
        <a class="nav-link active" data-toggle="tab" href="#contract" role="tab">Contract</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#review" role="tab">Reviewed by</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-toggle="tab" href="#rating">User Ratings</a>
      </li>
    </ul>
    <br />
    <!-- Tab panes -->
    <div class="tab-content">
      <div class="tab-pane active" id="contract" role="tabpanel">
        <table class="table contract-info-table">
          <tbody>
            <tr>
              <th scope="col">Contract Title</th>
              <td class="info-score"><%= @contract.contract_title %></td>
            </tr>
            <tr>
              <th scope="col">Contract Website</th>
              <td class="info-score"><%= @contract.website %></td>
            </tr>
            <tr>
              <th scope="col">Contract Application</th>
              <td class="info-score"><%= @contract.application %></td>
            </tr>
            <tr>
              <th scope="col">Contract Type</th>
              <td class="info-score"><%= @contract.contract_type %></td>
            </tr>
            <tr>
              <th scope="col">Contract Date</th>
              <td class="info-score"><%= @contract_revision.contract_date.strftime('%m/%d/%Y') %></td>
            </tr>
            <tr>
              <th scope="col">TOS Website</th>
              <td class="info-score"><%= @contract_revision.tos_url %></td>
            </tr>
            <tr>
              <th scope="col">Total Rating</th>
              <td class="info-score"><b><%= @contract_revision.total_rating.round(2) %></b></td>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">Total Page Count</th>
              <td class="info-score"><%= @contract_revision.total_page %></td>
              <% if !@contract_revision.total_page_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.total_page_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Privacy</th>
              <td class="info-score"><%= @contract_revision.rating_1 %></td>
              <% if !@contract_revision.rating_1_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_1_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Equal, Fair, & Reasonable Expression</th>
              <td class="info-score"><%= @contract_revision.rating_2 %></td>
              <% if !@contract_revision.rating_2_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_2_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Control My Intellectual Property</th>
              <td class="info-score"><%= @contract_revision.rating_3 %></td>
              <% if !@contract_revision.rating_3_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_3_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Sue</th>
              <td class="info-score"><%= @contract_revision.rating_4 %></td>
              <% if !@contract_revision.rating_4_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_4_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Low-Cost Arbitration</th>
              <td class="info-score"><%= @contract_revision.rating_5 %></td>
              <% if !@contract_revision.rating_5_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_5_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Join a Class Action</th>
              <td class="info-score"><%= @contract_revision.rating_6 %></td>
              <% if !@contract_revision.rating_6_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_6_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to No Hidden Terms or Fees</th>
              <td class="info-score"><%= @contract_revision.rating_7 %></td>
              <% if !@contract_revision.rating_7_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_7_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Fair Process & To Be Heard</th>
              <td class="info-score"><%= @contract_revision.rating_8 %></td>
              <% if !@contract_revision.rating_8_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_8_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Appeal & The Right to Return</th>
              <td class="info-score"><%= @contract_revision.rating_9 %></td>
              <% if !@contract_revision.rating_9_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_9_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">The Right to Reasonable Terms</th>
              <td class="info-score"><%= @contract_revision.rating_10 %></td>
              <% if !@contract_revision.rating_10_note.nil? %>
                <td class="note">
                  <%= simple_format @contract_revision.rating_10_note %>
                </td>
              <% end %>
            </tr>
            <tr>
              <td><hr></td>
            </tr>
            <tr>
              <th scope="col">Historical Fairness</th>
              <td class="info-score"><%= @contract_revision.rating_11.round(2) %></td>
            </tr>
            <tr>
              <th scope="col">Historical User Ratings</th>
              <td class="info-score"><%= @contract_revision.rating_12.round(2) %></td>
            </tr>
            <tr>
              <th scope="col">Historical Lack of Lawsuits or Arbitrations</th>
              <td class="info-score"><%= @contract_revision.rating_13.round(2) %></td>
            </tr>
            <tr>
              <th scope="col">Public Placement of TOS Fairness Score & Link</th>
              <td class="info-score"><%= @contract_revision.rating_14 %></td>
            </tr>
            <tr>
              <th scope="col">Total Rating</th>
              <td class="info-score"><%= @contract_revision.total_rating.round(2) %></td>
            </tr>
            <tr>
              <th scope="col">Additional Note</th>
              <td><%= simple_format @contract_revision.additional_note %></td>
            </tr>
            <tr>
              <th scope="col">Ways to improve</th>
              <td><div><%= simple_format @contract_revision.ways_to_improve %></div></td>
            </tr>
            <tr>
              <th scope="col">Review Status</th>
              <td class="info-score"><%= @contract_revision.status %></td>
            </tr>
          </tbody>
        </table>
        <% if user_signed_in? && current_user.admin? %>
          <%= button_to 'Edit', edit_contract_contract_revision_path(@contract, @contract_revision), method: :get, class: 'btn btn-primary' %>
        <% end %>
      </div>
      <div class="tab-pane" id="rating" role="tabpanel">
        <%= render 'contract_user_review' %>
      </div>
      <div class="tab-pane" id="review" role="tabpanel">
        <% if @user_loggings.size > 0 %>
          <%= render 'contract_review' %>
        <% end %>
      </div>
    </div>
  </div>
</div>
